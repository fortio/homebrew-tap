# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Fortiotel < Formula
  desc "Fortio + open telemetry tracing"
  homepage "https://fortio.org/"
  version "1.66.4"
  license "Apache-2.0"

  on_macos do
    on_intel do
      url "https://github.com/fortio/fortiotel/releases/download/v1.66.4/fortiotel_1.66.4_darwin_amd64.zip"
      sha256 "71953498493ef5eef4e10d4b9182beef40149328ce937fb7b8174fe3b146aa4d"

      def install
        bin.install "fortiotel"
      end
    end
    on_arm do
      url "https://github.com/fortio/fortiotel/releases/download/v1.66.4/fortiotel_1.66.4_darwin_arm64.zip"
      sha256 "0f19915cec3743fe8c0cf5645a97c1e47214f89604fe82bddd9bd083da35870b"

      def install
        bin.install "fortiotel"
      end
    end
  end

  on_linux do
    on_intel do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/fortio/fortiotel/releases/download/v1.66.4/fortiotel_1.66.4_linux_amd64.tar.gz"
        sha256 "46e3230f8d7bf09c6875dbf686a6373a61de8fa66d15048ef03a2c77fc3e4ee7"

        def install
          bin.install "fortiotel"
        end
      end
    end
    on_arm do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/fortio/fortiotel/releases/download/v1.66.4/fortiotel_1.66.4_linux_arm64.tar.gz"
        sha256 "d5d13817355e0536d9fddaef8bb4f2e8604cb1768a58f829faf66dc140755a9c"

        def install
          bin.install "fortiotel"
        end
      end
    end
  end

  test do
    assert_match version.to_s, shell_output("#{bin}/fortiotel -version")
  end
end
