# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Fortiotel < Formula
  desc "Fortio + open telemetry tracing"
  homepage "https://fortio.org/"
  version "1.73.1"
  license "Apache-2.0"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/fortio/fortiotel/releases/download/v1.73.1/fortiotel_1.73.1_darwin_amd64.zip"
      sha256 "42819d0adc9a73db502c16a3ed778141a953b3057d41994a83fae653faf6c67a"

      def install
        bin.install "fortiotel"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/fortio/fortiotel/releases/download/v1.73.1/fortiotel_1.73.1_darwin_arm64.zip"
      sha256 "7843fa24131102227ab137e99e9156e8b3d76f8472a5a55b686f9f38e00ff66e"

      def install
        bin.install "fortiotel"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? && Hardware::CPU.is_64_bit?
      url "https://github.com/fortio/fortiotel/releases/download/v1.73.1/fortiotel_1.73.1_linux_amd64.tar.gz"
      sha256 "a9a3dfad2580abb4d045973021df559035abcefe9556b1fcdcc7f397f78d3ed1"
      def install
        bin.install "fortiotel"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/fortio/fortiotel/releases/download/v1.73.1/fortiotel_1.73.1_linux_arm64.tar.gz"
      sha256 "feefad5a7e2ab4bdeb9c84b78755fd3c35821918bcd12f4e01ad29f9581765a7"
      def install
        bin.install "fortiotel"
      end
    end
  end

  test do
    assert_match version.to_s, shell_output("#{bin}/fortiotel -version")
  end
end
