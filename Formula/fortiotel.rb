# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Fortiotel < Formula
  desc "Fortio + open telemetry tracing"
  homepage "https://fortio.org/"
  version "1.11.4"
  license "Apache-2.0"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/fortio/fortiotel/releases/download/v1.11.4/fortiotel_1.11.4_darwin_arm64.tar.gz"
      sha256 "263a3d77f4f6934ae739caf43565e48fba8748372aeeffa45803ab96572ae86e"

      def install
        bin.install "fortiotel"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/fortio/fortiotel/releases/download/v1.11.4/fortiotel_1.11.4_darwin_amd64.tar.gz"
      sha256 "cc9e5bb67c1c0e35485e3d8a9d5226bea86aa510e8511ba204d8312a7426d412"

      def install
        bin.install "fortiotel"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/fortio/fortiotel/releases/download/v1.11.4/fortiotel_1.11.4_linux_arm64.tar.gz"
      sha256 "264d96e982f88f2e71ed39c3103a7f35410ae1ab1efb87824bd76648bc9bf668"

      def install
        bin.install "fortiotel"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/fortio/fortiotel/releases/download/v1.11.4/fortiotel_1.11.4_linux_amd64.tar.gz"
      sha256 "57881a9fc71c8b8ba1298fd94fabb11c33a0afc2cbfb5c33d60b203c36a5225f"

      def install
        bin.install "fortiotel"
      end
    end
  end

  test do
    assert_match version.to_s, shell_output("#{bin}/fortiotel -version")
  end
end
