# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Fortiotel < Formula
  desc "Fortio + open telemetry tracing"
  homepage "https://fortio.org/"
  version "1.69.5"
  license "Apache-2.0"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/fortio/fortiotel/releases/download/v1.69.5/fortiotel_1.69.5_darwin_amd64.zip"
      sha256 "e2b69a5395932ae5b066c81c1b0531714939e9fae611f3914c7a544e6d071ce7"

      def install
        bin.install "fortiotel"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/fortio/fortiotel/releases/download/v1.69.5/fortiotel_1.69.5_darwin_arm64.zip"
      sha256 "f76278d28a253af36ca60ae9c625fda985fe722822cc4af3cb90db26d975c945"

      def install
        bin.install "fortiotel"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? and Hardware::CPU.is_64_bit?
      url "https://github.com/fortio/fortiotel/releases/download/v1.69.5/fortiotel_1.69.5_linux_amd64.tar.gz"
      sha256 "2eef07cfb762edf5f0abb22aac874c99ec3844e9d5f2970fc7371ece5837f654"
      def install
        bin.install "fortiotel"
      end
    end
    if Hardware::CPU.arm? and Hardware::CPU.is_64_bit?
      url "https://github.com/fortio/fortiotel/releases/download/v1.69.5/fortiotel_1.69.5_linux_arm64.tar.gz"
      sha256 "73e65c9521b5149960b6b2d4a3284658837dc44800bdcd41acea7940427de96e"
      def install
        bin.install "fortiotel"
      end
    end
  end

  test do
    assert_match version.to_s, shell_output("#{bin}/fortiotel -version")
  end
end
