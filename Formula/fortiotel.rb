# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Fortiotel < Formula
  desc "Fortio + open telemetry tracing"
  homepage "https://fortio.org/"
  version "1.9.1"
  license "Apache-2.0"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/fortio/fortiotel/releases/download/v1.9.1/fortiotel_1.9.1_Mac_arm64.tar.gz"
      sha256 "6a36d05d1ebe3984d108bb096b8375385c25400d6e14f064318a285e0258c856"

      def install
        bin.install "fortiotel"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/fortio/fortiotel/releases/download/v1.9.1/fortiotel_1.9.1_Mac_x86_64.tar.gz"
      sha256 "ec5e2868fba88b9d8d885addff4276e422672d10904b299ba05ea0c3069a1482"

      def install
        bin.install "fortiotel"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/fortio/fortiotel/releases/download/v1.9.1/fortiotel_1.9.1_Linux_arm64.tar.gz"
      sha256 "895cbf7900fbc431d30eafd9687e22a9e3e68db6eafbb2cf00429a764c16369f"

      def install
        bin.install "fortiotel"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/fortio/fortiotel/releases/download/v1.9.1/fortiotel_1.9.1_Linux_x86_64.tar.gz"
      sha256 "6166a1cd8d054d7aae7eb36133890d5e535c74d1fd815ac41a517941bab8f75a"

      def install
        bin.install "fortiotel"
      end
    end
  end

  test do
    assert_match version.to_s, shell_output("#{bin}/fortiotel -version")
  end
end
