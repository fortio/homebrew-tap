# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Memstore < Formula
  desc "Fortio memstore"
  homepage "https://fortio.org/"
  version "0.1.0-pre2"
  license "Apache-2.0"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/fortio/memstore/releases/download/v0.1.0-pre2/memstore_0.1.0-pre2_darwin_arm64.tar.gz"
      sha256 "3410782cce202aacc3805932f5b3d4953ccf49ddec3c94533e8495067fe6baa1"

      def install
        bin.install "memstore"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/fortio/memstore/releases/download/v0.1.0-pre2/memstore_0.1.0-pre2_darwin_amd64.tar.gz"
      sha256 "fa3c736302a7050c1f5635da93bed3ff3a3631ad9a6363f32761b3eee04b21e2"

      def install
        bin.install "memstore"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/fortio/memstore/releases/download/v0.1.0-pre2/memstore_0.1.0-pre2_linux_arm64.tar.gz"
      sha256 "beb14a8227386bee85c037aeb8e390c7364b42960bc29fb389c0200106117987"

      def install
        bin.install "memstore"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/fortio/memstore/releases/download/v0.1.0-pre2/memstore_0.1.0-pre2_linux_amd64.tar.gz"
      sha256 "440bcb1b32a18a11b1493e4e133226e105f02eb06a923e01123453b8ce81e501"

      def install
        bin.install "memstore"
      end
    end
  end

  test do
    assert_match version.to_s, shell_output("#{bin}/memstore -version")
  end
end
