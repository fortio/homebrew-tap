# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Memstore < Formula
  desc "Fortio memstore"
  homepage "https://fortio.org/"
  version "0.1.1"
  license "Apache-2.0"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/fortio/memstore/releases/download/v0.1.1/memstore_0.1.1_darwin_amd64.tar.gz"
      sha256 "46080565ea9ed68e0265e219cf505f98de84c9ada9b110bfb690212c9ab26af3"

      def install
        bin.install "memstore"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/fortio/memstore/releases/download/v0.1.1/memstore_0.1.1_darwin_arm64.tar.gz"
      sha256 "2c00eaf85f6292e300f82e807f622a8f35ef2a988adaf960695e0592fc3b9b3a"

      def install
        bin.install "memstore"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/fortio/memstore/releases/download/v0.1.1/memstore_0.1.1_linux_arm64.tar.gz"
      sha256 "9c2e6490d916adc91c044a02607b8f15c90306d2d6eca405cd6d2f5dd0e3d962"

      def install
        bin.install "memstore"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/fortio/memstore/releases/download/v0.1.1/memstore_0.1.1_linux_amd64.tar.gz"
      sha256 "cd2fa3d9fe422cdb8ac5f5b60f4911c8c1ec32ef5a306707588af9f0b20952e4"

      def install
        bin.install "memstore"
      end
    end
  end

  test do
    assert_match version.to_s, shell_output("#{bin}/memstore -version")
  end
end
