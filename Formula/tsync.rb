# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Tsync < Formula
  desc "Fortio secure synchronization between machines"
  homepage "https://fortio.org/"
  version "0.6.1"
  license "Apache-2.0"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/fortio/tsync/releases/download/v0.6.1/tsync_0.6.1_darwin_amd64.zip"
      sha256 "3667014d8fa92ea0e935c49ea1c1e791b112d031634555a1fabab422aeb5209e"

      def install
        bin.install "tsync"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/fortio/tsync/releases/download/v0.6.1/tsync_0.6.1_darwin_arm64.zip"
      sha256 "7b96c2cf0339f1dc8d3959367fda6a85c5804a048d184a2938c988ebba2fd631"

      def install
        bin.install "tsync"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? && Hardware::CPU.is_64_bit?
      url "https://github.com/fortio/tsync/releases/download/v0.6.1/tsync_0.6.1_linux_amd64.tar.gz"
      sha256 "31b0e535fc5af1907df833257aaf9a1378f4fb944ed048380bd453f1d6b770b1"
      def install
        bin.install "tsync"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/fortio/tsync/releases/download/v0.6.1/tsync_0.6.1_linux_arm64.tar.gz"
      sha256 "ed029ecd885dd89318da936dcababbeb1ea2e54f3d0d2a109a010263fba339dc"
      def install
        bin.install "tsync"
      end
    end
  end

  test do
    assert_match version.to_s, shell_output("#{bin}/tsync -version")
  end
end
